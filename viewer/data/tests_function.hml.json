{"syntax":"<div class=\"highlight\"><pre><span class=\"k\">val</span> <span class=\"n\">inc</span> <span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"kt\">int</span><span class=\"o\">):</span> <span class=\"kt\">int</span> <span class=\"o\">=</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"mi\">1</span>\n\n<span class=\"k\">val</span> <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">inc</span> <span class=\"mi\">2</span>\n\n<span class=\"k\">val</span> <span class=\"k\">rec</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"kt\">int</span><span class=\"o\">):</span> <span class=\"kt\">int</span> <span class=\"o\">=</span>\n  <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">inc</span> <span class=\"n\">x</span><span class=\"o\">)</span>\n\n<span class=\"k\">val</span> <span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"n\">cref</span> <span class=\"mi\">0</span>\n\n<span class=\"k\">val</span> <span class=\"n\">counter</span> <span class=\"o\">(|</span> <span class=\"n\">count</span> <span class=\"o\">@</span> <span class=\"n\">ref</span> <span class=\"kt\">int</span><span class=\"o\">):</span> <span class=\"kt\">int</span> <span class=\"o\">=</span>\n  <span class=\"k\">let</span> <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">rget</span> <span class=\"n\">count</span> <span class=\"k\">in</span>\n  <span class=\"n\">x</span> <span class=\"n\">explain</span><span class=\"o\">;</span>\n  <span class=\"n\">rset</span> <span class=\"o\">(</span><span class=\"n\">count</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"o\">);</span>\n  <span class=\"n\">x</span>\n\n<span class=\"k\">val</span> <span class=\"n\">foobar</span> <span class=\"o\">=</span>\n  <span class=\"o\">(</span><span class=\"n\">counter</span> <span class=\"bp\">()</span><span class=\"o\">,</span> <span class=\"n\">counter</span> <span class=\"bp\">()</span><span class=\"o\">)</span>\n</pre></div>\n","current_location":{"start":{"line":12,"col":2},"end":{"line":12,"col":11}},"file_name":"tests/function.hml","type":"single","svg":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.26.3 (20100126.1600)\n -->\n<!-- Title: g Pages: 1 -->\n<svg width=\"2341pt\" height=\"134pt\"\n viewBox=\"0.00 0.00 2341.00 134.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph1\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 130)\">\n<title>g</title>\n<polygon fill=\"white\" stroke=\"white\" points=\"-4,5 -4,-130 2338,-130 2338,5 -4,5\"/>\n<!-- node32 -->\n<g id=\"node32\" class=\"node\"><title>node32</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"0,-1 0,-51 54,-51 54,-1 0,-1\"/>\n<text text-anchor=\"middle\" x=\"27\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">int</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"0,-26 54,-26 \"/>\n<text text-anchor=\"middle\" x=\"27\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">y</text>\n</g>\n<!-- node16 -->\n<g id=\"node16\" class=\"node\"><title>node16</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"72,-8 72,-44 126,-44 126,-8 72,-8\"/>\n<text text-anchor=\"middle\" x=\"99\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">()</text>\n</g>\n<!-- node48 -->\n<g id=\"node48\" class=\"node\"><title>node48</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"144,-1 144,-51 198,-51 198,-1 144,-1\"/>\n<text text-anchor=\"middle\" x=\"171\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">int</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"144,-26 198,-26 \"/>\n<text text-anchor=\"middle\" x=\"171\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">x</text>\n</g>\n<!-- node40 -->\n<g id=\"node40\" class=\"node\"><title>node40</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"216,-1 216,-51 270,-51 270,-1 216,-1\"/>\n<text text-anchor=\"middle\" x=\"243\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">int</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"216,-26 270,-26 \"/>\n<text text-anchor=\"middle\" x=\"243\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">x</text>\n</g>\n<!-- node24 -->\n<g id=\"node24\" class=\"node\"><title>node24</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"288,-1 288,-51 342,-51 342,-1 288,-1\"/>\n<text text-anchor=\"middle\" x=\"315\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">True</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"288,-26 342,-26 \"/>\n<text text-anchor=\"middle\" x=\"315\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">true</text>\n</g>\n<!-- node20 -->\n<g id=\"node20\" class=\"node\"><title>node20</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"360,-1 360,-51 414,-51 414,-1 360,-1\"/>\n<text text-anchor=\"middle\" x=\"387\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">None</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"360,-26 414,-26 \"/>\n<text text-anchor=\"middle\" x=\"387\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">none</text>\n</g>\n<!-- node28 -->\n<g id=\"node28\" class=\"node\"><title>node28</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"432,-1 432,-51 608,-51 608,-1 432,-1\"/>\n<text text-anchor=\"middle\" x=\"520\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[x :: term] (=x | x @ …</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"432,-26 608,-26 \"/>\n<text text-anchor=\"middle\" x=\"520\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">inc</text>\n</g>\n<!-- node34 -->\n<g id=\"node34\" class=\"node\"><title>node34</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"626,-1 626,-51 802,-51 802,-1 626,-1\"/>\n<text text-anchor=\"middle\" x=\"714\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[x :: term] (=x | x @ …</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"626,-26 802,-26 \"/>\n<text text-anchor=\"middle\" x=\"714\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">f</text>\n</g>\n<!-- node18 -->\n<g id=\"node18\" class=\"node\"><title>node18</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"819.5,-1 819.5,-51 992.5,-51 992.5,-1 819.5,-1\"/>\n<text text-anchor=\"middle\" x=\"906\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[a, hd :: term, tl :: te…</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"819.5,-26 992.5,-26 \"/>\n<text text-anchor=\"middle\" x=\"906\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">cons</text>\n</g>\n<!-- node42 -->\n<g id=\"node42\" class=\"node\"><title>node42</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1010,-8 1010,-44 1064,-44 1064,-8 1010,-8\"/>\n<text text-anchor=\"middle\" x=\"1037\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">()</text>\n</g>\n<!-- node26 -->\n<g id=\"node26\" class=\"node\"><title>node26</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1082,-1 1082,-51 1136,-51 1136,-1 1082,-1\"/>\n<text text-anchor=\"middle\" x=\"1109\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">False</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1082,-26 1136,-26 \"/>\n<text text-anchor=\"middle\" x=\"1109\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">false</text>\n</g>\n<!-- node22 -->\n<g id=\"node22\" class=\"node\"><title>node22</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1154,-1 1154,-51 1324,-51 1324,-1 1154,-1\"/>\n<text text-anchor=\"middle\" x=\"1239\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[a, x :: term] (=x | x…</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1154,-26 1324,-26 \"/>\n<text text-anchor=\"middle\" x=\"1239\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">some</text>\n</g>\n<!-- node14 -->\n<g id=\"node14\" class=\"node\"><title>node14</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1342,-8 1342,-44 1396,-44 1396,-8 1342,-8\"/>\n<text text-anchor=\"middle\" x=\"1369\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">()</text>\n</g>\n<!-- node30 -->\n<g id=\"node30\" class=\"node\"><title>node30</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1414,-1 1414,-51 1468,-51 1468,-1 1414,-1\"/>\n<text text-anchor=\"middle\" x=\"1441\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">int</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1414,-26 1468,-26 \"/>\n<text text-anchor=\"middle\" x=\"1441\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">x</text>\n</g>\n<!-- node9 -->\n<g id=\"node9\" class=\"node\"><title>node9</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1486,-1 1486,-51 1656,-51 1656,-1 1486,-1\"/>\n<text text-anchor=\"middle\" x=\"1571\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[a, x :: term] (=x | x…</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1486,-26 1656,-26 \"/>\n<text text-anchor=\"middle\" x=\"1571\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">rget</text>\n</g>\n<!-- node41 -->\n<g id=\"node41\" class=\"node\"><title>node41</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1674,-1 1674,-51 1756,-51 1756,-1 1674,-1\"/>\n<text text-anchor=\"middle\" x=\"1715\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">unknown</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1674,-26 1756,-26 \"/>\n<text text-anchor=\"middle\" x=\"1715\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">counter</text>\n</g>\n<!-- node13 -->\n<g id=\"node13\" class=\"node\"><title>node13</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1774,-1 1774,-51 1828,-51 1828,-1 1774,-1\"/>\n<text text-anchor=\"middle\" x=\"1801\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">Nil</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1774,-26 1828,-26 \"/>\n<text text-anchor=\"middle\" x=\"1801\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">nil</text>\n</g>\n<!-- node11 -->\n<g id=\"node11\" class=\"node\"><title>node11</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1846,-1 1846,-51 2010,-51 2010,-1 1846,-1\"/>\n<text text-anchor=\"middle\" x=\"1928\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[a, b, x :: term, c :: …</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1846,-26 2010,-26 \"/>\n<text text-anchor=\"middle\" x=\"1928\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">rset</text>\n</g>\n<!-- node7 -->\n<g id=\"node7\" class=\"node\"><title>node7</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"2028,-1 2028,-51 2198,-51 2198,-1 2028,-1\"/>\n<text text-anchor=\"middle\" x=\"2113\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[a, x :: term] (=x | x…</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"2028,-26 2198,-26 \"/>\n<text text-anchor=\"middle\" x=\"2113\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">cref</text>\n</g>\n<!-- node39 -->\n<g id=\"node39\" class=\"node\"><title>node39</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"2215.5,-1 2215.5,-51 2330.5,-51 2330.5,-1 2215.5,-1\"/>\n<text text-anchor=\"middle\" x=\"2234.5\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">Ref</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"2253.5,-26 2253.5,-51 \"/>\n<text text-anchor=\"middle\" x=\"2292\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">contents</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"2215.5,-26 2330.5,-26 \"/>\n<text text-anchor=\"middle\" x=\"2273\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">count = x</text>\n</g>\n<!-- node47 -->\n<g id=\"node47\" class=\"node\"><title>node47</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"2251,-89 2251,-125 2333,-125 2333,-89 2251,-89\"/>\n<text text-anchor=\"middle\" x=\"2292\" y=\"-102.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">unknown</text>\n</g>\n<!-- node39&#45;&gt;node47 -->\n<g id=\"edge2\" class=\"edge\"><title>node39:contents&#45;&gt;node47</title>\n<path fill=\"none\" stroke=\"black\" d=\"M2292,-51C2292,-59.9855 2292,-69.7819 2292,-78.6326\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"2288.5,-78.8414 2292,-88.8415 2295.5,-78.8415 2288.5,-78.8414\"/>\n</g>\n</g>\n</svg>\n","points":{"47":{"names":[["auto","count_Ref_contents"]],"locations":[{"start":{"line":11,"col":9},"end":{"line":11,"col":20}}],"kind":"term","permissions":["=count_Ref_contents"]},"39":{"names":[["user","count"],["user","x"]],"locations":[{"start":{"line":8,"col":4},"end":{"line":8,"col":10}},{"start":{"line":8,"col":11},"end":{"line":8,"col":18}},{"start":{"line":23,"col":12},"end":{"line":23,"col":32}}],"kind":"term","permissions":["Ref {\n    contents: =count_Ref_contents\n  }","=count"]},"7":{"names":[["user","cref"]],"locations":[{"start":{"line":20,"col":0},"end":{"line":23,"col":0}}],"kind":"term","permissions":["[a, x :: term] (=x | x @ a) -> ref a","=cref"]},"11":{"names":[["user","rset"]],"locations":[{"start":{"line":26,"col":0},"end":{"line":29,"col":0}}],"kind":"term","permissions":["[a, b, x :: term, c :: term, /root6 :: term] (=/root6 | /root6 @ (=x, =c) ∗ x @ ref a ∗ c @ b) ->\n(() | x @ ref b)","=rset"]},"13":{"names":[["user","nil"]],"locations":[{"start":{"line":29,"col":23},"end":{"line":30,"col":5}},{"start":{"line":29,"col":5},"end":{"line":29,"col":8}}],"kind":"term","permissions":["=nil","Nil"]},"41":{"names":[["user","counter"]],"locations":[{"start":{"line":10,"col":0},"end":{"line":16,"col":0}}],"kind":"term","permissions":["=counter"]},"9":{"names":[["user","rget"]],"locations":[{"start":{"line":23,"col":0},"end":{"line":26,"col":0}}],"kind":"term","permissions":["[a, x :: term] (=x | x @ ref a) -> (a | x @ ref unknown)","=rget"]},"30":{"names":[["auto","y_arg"],["user","x"]],"locations":[{"start":{"line":3,"col":11},"end":{"line":3,"col":13}},{"start":{"line":1,"col":8},"end":{"line":1,"col":16}}],"kind":"term","permissions":["int","=y_arg"]},"14":{"names":[["auto","/x_26"]],"locations":[{"start":{"line":29,"col":0},"end":{"line":32,"col":0}}],"kind":"term","permissions":["()","=/x_26"]},"22":{"names":[["user","some"]],"locations":[{"start":{"line":38,"col":0},"end":{"line":41,"col":0}}],"kind":"term","permissions":["[a, x :: term] (=x | x @ a) -> option a","=some"]},"26":{"names":[["user","false"]],"locations":[{"start":{"line":42,"col":11},"end":{"line":42,"col":17}},{"start":{"line":42,"col":4},"end":{"line":42,"col":10}}],"kind":"term","permissions":["False","=false"]},"42":{"names":[["auto","/root14"]],"locations":[{"start":{"line":10,"col":12},"end":{"line":10,"col":31}}],"kind":"term","permissions":["()","=/root14"]},"18":{"names":[["user","cons"]],"locations":[{"start":{"line":32,"col":0},"end":{"line":35,"col":0}}],"kind":"term","permissions":["[a, hd :: term, tl :: term, /root9 :: term] (=/root9 | /root9 @ (=hd, =tl) ∗ hd @ a ∗ tl @ list a) ->\nlist a","=cons"]},"34":{"names":[["user","f"]],"locations":[{"start":{"line":5,"col":0},"end":{"line":8,"col":0}}],"kind":"term","permissions":["[x :: term] (=x | x @ int) -> int","=f"]},"28":{"names":[["user","inc"]],"locations":[{"start":{"line":1,"col":0},"end":{"line":3,"col":0}}],"kind":"term","permissions":["[x :: term] (=x | x @ int) -> int","=inc"]},"20":{"names":[["user","none"]],"locations":[{"start":{"line":35,"col":10},"end":{"line":36,"col":6}},{"start":{"line":35,"col":4},"end":{"line":35,"col":9}}],"kind":"term","permissions":["None","=none"]},"24":{"names":[["user","true"]],"locations":[{"start":{"line":41,"col":10},"end":{"line":41,"col":15}},{"start":{"line":41,"col":4},"end":{"line":41,"col":9}}],"kind":"term","permissions":["True","=true"]},"40":{"names":[["auto","count_Ref_contents"],["user","x"],["auto","count_arg"]],"locations":[{"start":{"line":8,"col":11},"end":{"line":8,"col":18}},{"start":{"line":20,"col":12},"end":{"line":20,"col":28}},{"start":{"line":8,"col":16},"end":{"line":8,"col":18}}],"kind":"term","permissions":["=count_Ref_contents","int"]},"48":{"names":[["auto","count_Ref_contents"],["user","x"]],"locations":[{"start":{"line":10,"col":0},"end":{"line":16,"col":0}},{"start":{"line":11,"col":9},"end":{"line":11,"col":20}},{"start":{"line":11,"col":6},"end":{"line":11,"col":8}}],"kind":"term","permissions":["=count_Ref_contents","int"]},"16":{"names":[["auto","/x_27"]],"locations":[{"start":{"line":29,"col":0},"end":{"line":32,"col":0}}],"kind":"term","permissions":["()","=/x_27"]},"32":{"names":[["user","y"]],"locations":[{"start":{"line":3,"col":7},"end":{"line":3,"col":13}},{"start":{"line":3,"col":4},"end":{"line":3,"col":6}}],"kind":"term","permissions":["int","=y"]}}}