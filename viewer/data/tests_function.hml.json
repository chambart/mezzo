{"syntax":"<div class=\"highlight\"><pre><span class=\"k\">val</span> <span class=\"n\">inc</span> <span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"kt\">int</span><span class=\"o\">):</span> <span class=\"kt\">int</span> <span class=\"o\">=</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"mi\">1</span>\n\n<span class=\"k\">val</span> <span class=\"n\">y</span> <span class=\"o\">=</span> <span class=\"n\">inc</span> <span class=\"mi\">2</span>\n\n<span class=\"k\">val</span> <span class=\"k\">rec</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"kt\">int</span><span class=\"o\">):</span> <span class=\"kt\">int</span> <span class=\"o\">=</span>\n  <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">inc</span> <span class=\"n\">x</span><span class=\"o\">)</span>\n\n<span class=\"k\">val</span> <span class=\"n\">count</span> <span class=\"o\">=</span> <span class=\"n\">cref</span> <span class=\"mi\">0</span>\n\n<span class=\"k\">val</span> <span class=\"n\">counter</span> <span class=\"o\">(|</span> <span class=\"n\">count</span> <span class=\"o\">@</span> <span class=\"n\">ref</span> <span class=\"kt\">int</span><span class=\"o\">):</span> <span class=\"kt\">int</span> <span class=\"o\">=</span>\n  <span class=\"k\">let</span> <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">rget</span> <span class=\"n\">count</span> <span class=\"k\">in</span>\n  <span class=\"bp\">()</span> <span class=\"n\">explain</span><span class=\"o\">;</span>\n  <span class=\"n\">rset</span> <span class=\"o\">(</span><span class=\"n\">count</span><span class=\"o\">,</span> <span class=\"n\">x</span> <span class=\"o\">+</span> <span class=\"mi\">1</span><span class=\"o\">);</span>\n  <span class=\"n\">x</span>\n\n<span class=\"k\">val</span> <span class=\"n\">foobar</span> <span class=\"o\">=</span>\n  <span class=\"o\">(</span><span class=\"n\">counter</span> <span class=\"bp\">()</span><span class=\"o\">,</span> <span class=\"n\">counter</span> <span class=\"bp\">()</span><span class=\"o\">)</span>\n</pre></div>\n","current_location":{"start":{"line":12,"col":2},"end":{"line":12,"col":12}},"file_name":"tests/function.hml","type":"single","svg":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.26.3 (20100126.1600)\n -->\n<!-- Title: g Pages: 1 -->\n<svg width=\"2006pt\" height=\"134pt\"\n viewBox=\"0.00 0.00 2006.00 134.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph1\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 130)\">\n<title>g</title>\n<polygon fill=\"white\" stroke=\"white\" points=\"-4,5 -4,-130 2003,-130 2003,5 -4,5\"/>\n<!-- node32 -->\n<g id=\"node32\" class=\"node\"><title>node32</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"0,-8 0,-44 54,-44 54,-8 0,-8\"/>\n<text text-anchor=\"middle\" x=\"27\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">()</text>\n</g>\n<!-- node16 -->\n<g id=\"node16\" class=\"node\"><title>node16</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"71.5,-1 71.5,-51 244.5,-51 244.5,-1 71.5,-1\"/>\n<text text-anchor=\"middle\" x=\"158\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[a, hd :: term, tl :: te…</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"71.5,-26 244.5,-26 \"/>\n<text text-anchor=\"middle\" x=\"158\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">cons</text>\n</g>\n<!-- node24 -->\n<g id=\"node24\" class=\"node\"><title>node24</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"262,-1 262,-51 438,-51 438,-1 262,-1\"/>\n<text text-anchor=\"middle\" x=\"350\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[x :: term] (=x | x @ …</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"262,-26 438,-26 \"/>\n<text text-anchor=\"middle\" x=\"350\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">f</text>\n</g>\n<!-- node20 -->\n<g id=\"node20\" class=\"node\"><title>node20</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"456,-1 456,-51 510,-51 510,-1 456,-1\"/>\n<text text-anchor=\"middle\" x=\"483\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">int</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"456,-26 510,-26 \"/>\n<text text-anchor=\"middle\" x=\"483\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">x</text>\n</g>\n<!-- node12 -->\n<g id=\"node12\" class=\"node\"><title>node12</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"528,-8 528,-44 582,-44 582,-8 528,-8\"/>\n<text text-anchor=\"middle\" x=\"555\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">()</text>\n</g>\n<!-- node18 -->\n<g id=\"node18\" class=\"node\"><title>node18</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"600,-1 600,-51 776,-51 776,-1 600,-1\"/>\n<text text-anchor=\"middle\" x=\"688\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[x :: term] (=x | x @ …</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"600,-26 776,-26 \"/>\n<text text-anchor=\"middle\" x=\"688\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">inc</text>\n</g>\n<!-- node38 -->\n<g id=\"node38\" class=\"node\"><title>node38</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"794,-1 794,-51 848,-51 848,-1 794,-1\"/>\n<text text-anchor=\"middle\" x=\"821\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">int</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"794,-26 848,-26 \"/>\n<text text-anchor=\"middle\" x=\"821\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">x</text>\n</g>\n<!-- node22 -->\n<g id=\"node22\" class=\"node\"><title>node22</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"866,-1 866,-51 920,-51 920,-1 866,-1\"/>\n<text text-anchor=\"middle\" x=\"893\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">int</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"866,-26 920,-26 \"/>\n<text text-anchor=\"middle\" x=\"893\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">y</text>\n</g>\n<!-- node14 -->\n<g id=\"node14\" class=\"node\"><title>node14</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"938,-8 938,-44 992,-44 992,-8 938,-8\"/>\n<text text-anchor=\"middle\" x=\"965\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">()</text>\n</g>\n<!-- node30 -->\n<g id=\"node30\" class=\"node\"><title>node30</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1010,-1 1010,-51 1064,-51 1064,-1 1010,-1\"/>\n<text text-anchor=\"middle\" x=\"1037\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">int</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1010,-26 1064,-26 \"/>\n<text text-anchor=\"middle\" x=\"1037\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">x</text>\n</g>\n<!-- node9 -->\n<g id=\"node9\" class=\"node\"><title>node9</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1082,-1 1082,-51 1246,-51 1246,-1 1082,-1\"/>\n<text text-anchor=\"middle\" x=\"1164\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[a, b, x :: term, c :: …</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1082,-26 1246,-26 \"/>\n<text text-anchor=\"middle\" x=\"1164\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">rset</text>\n</g>\n<!-- node5 -->\n<g id=\"node5\" class=\"node\"><title>node5</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1264,-1 1264,-51 1434,-51 1434,-1 1264,-1\"/>\n<text text-anchor=\"middle\" x=\"1349\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[a, x :: term] (=x | x…</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1264,-26 1434,-26 \"/>\n<text text-anchor=\"middle\" x=\"1349\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">cref</text>\n</g>\n<!-- node37 -->\n<g id=\"node37\" class=\"node\"><title>node37</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1487,-89 1487,-125 1569,-125 1569,-89 1487,-89\"/>\n<text text-anchor=\"middle\" x=\"1528\" y=\"-102.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">unknown</text>\n</g>\n<!-- node29 -->\n<g id=\"node29\" class=\"node\"><title>node29</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1451.5,-1 1451.5,-51 1566.5,-51 1566.5,-1 1451.5,-1\"/>\n<text text-anchor=\"middle\" x=\"1470.5\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">Ref</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1489.5,-26 1489.5,-51 \"/>\n<text text-anchor=\"middle\" x=\"1528\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">contents</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1451.5,-26 1566.5,-26 \"/>\n<text text-anchor=\"middle\" x=\"1509\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">count = x</text>\n</g>\n<!-- node29&#45;&gt;node37 -->\n<g id=\"edge2\" class=\"edge\"><title>node29:contents&#45;&gt;node37</title>\n<path fill=\"none\" stroke=\"black\" d=\"M1528,-51C1528,-59.9855 1528,-69.7819 1528,-78.6326\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"1524.5,-78.8414 1528,-88.8415 1531.5,-78.8415 1524.5,-78.8414\"/>\n</g>\n<!-- node11 -->\n<g id=\"node11\" class=\"node\"><title>node11</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1584,-1 1584,-51 1638,-51 1638,-1 1584,-1\"/>\n<text text-anchor=\"middle\" x=\"1611\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">Nil</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1584,-26 1638,-26 \"/>\n<text text-anchor=\"middle\" x=\"1611\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">nil</text>\n</g>\n<!-- node7 -->\n<g id=\"node7\" class=\"node\"><title>node7</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1656,-1 1656,-51 1826,-51 1826,-1 1656,-1\"/>\n<text text-anchor=\"middle\" x=\"1741\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">[a, x :: term] (=x | x…</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1656,-26 1826,-26 \"/>\n<text text-anchor=\"middle\" x=\"1741\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">rget</text>\n</g>\n<!-- node39 -->\n<g id=\"node39\" class=\"node\"><title>node39</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1844,-8 1844,-44 1898,-44 1898,-8 1844,-8\"/>\n<text text-anchor=\"middle\" x=\"1871\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">()</text>\n</g>\n<!-- node31 -->\n<g id=\"node31\" class=\"node\"><title>node31</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"1916,-1 1916,-51 1998,-51 1998,-1 1916,-1\"/>\n<text text-anchor=\"middle\" x=\"1957\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">unknown</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"1916,-26 1998,-26 \"/>\n<text text-anchor=\"middle\" x=\"1957\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">counter</text>\n</g>\n</g>\n</svg>\n","points":{"31":{"names":[["user","counter"]],"locations":[{"start":{"line":10,"col":0},"end":{"line":16,"col":0}}],"kind":"term","permissions":["=counter"]},"39":{"names":[["auto","/x_46"]],"locations":[{"start":{"line":12,"col":2},"end":{"line":12,"col":5}}],"kind":"term","permissions":["()","=/x_46"]},"7":{"names":[["user","rget"]],"locations":[{"start":{"line":19,"col":0},"end":{"line":22,"col":0}}],"kind":"term","permissions":["[a, x :: term] (=x | x @ ref a) -> (a | x @ ref unknown)","=rget"]},"11":{"names":[["user","nil"]],"locations":[{"start":{"line":25,"col":23},"end":{"line":26,"col":5}},{"start":{"line":25,"col":5},"end":{"line":25,"col":8}}],"kind":"term","permissions":["=nil","Nil"]},"29":{"names":[["user","count"],["user","x"]],"locations":[{"start":{"line":8,"col":4},"end":{"line":8,"col":10}},{"start":{"line":8,"col":11},"end":{"line":8,"col":18}},{"start":{"line":19,"col":12},"end":{"line":19,"col":32}}],"kind":"term","permissions":["Ref {\n    contents: =count_Ref_contents\n  }","=count"]},"37":{"names":[["auto","count_Ref_contents"]],"locations":[{"start":{"line":11,"col":9},"end":{"line":11,"col":20}}],"kind":"term","permissions":["=count_Ref_contents"]},"5":{"names":[["user","cref"]],"locations":[{"start":{"line":16,"col":0},"end":{"line":19,"col":0}}],"kind":"term","permissions":["[a, x :: term] (=x | x @ a) -> ref a","=cref"]},"9":{"names":[["user","rset"]],"locations":[{"start":{"line":22,"col":0},"end":{"line":25,"col":0}}],"kind":"term","permissions":["[a, b, x :: term, c :: term, /root6 :: term] (=/root6 | /root6 @ (=x, =c) ∗ x @ ref a ∗ c @ b) ->\n(() | x @ ref b)","=rset"]},"30":{"names":[["auto","count_Ref_contents"],["user","x"],["auto","count_arg"]],"locations":[{"start":{"line":8,"col":11},"end":{"line":8,"col":18}},{"start":{"line":16,"col":12},"end":{"line":16,"col":28}},{"start":{"line":8,"col":16},"end":{"line":8,"col":18}}],"kind":"term","permissions":["=count_Ref_contents","int"]},"14":{"names":[["auto","/x_25"]],"locations":[{"start":{"line":25,"col":0},"end":{"line":28,"col":0}}],"kind":"term","permissions":["()","=/x_25"]},"22":{"names":[["user","y"]],"locations":[{"start":{"line":3,"col":7},"end":{"line":3,"col":13}},{"start":{"line":3,"col":4},"end":{"line":3,"col":6}}],"kind":"term","permissions":["int","=y"]},"38":{"names":[["auto","count_Ref_contents"],["user","x"]],"locations":[{"start":{"line":10,"col":0},"end":{"line":16,"col":0}},{"start":{"line":11,"col":9},"end":{"line":11,"col":20}},{"start":{"line":11,"col":6},"end":{"line":11,"col":8}}],"kind":"term","permissions":["=count_Ref_contents","int"]},"18":{"names":[["user","inc"]],"locations":[{"start":{"line":1,"col":0},"end":{"line":3,"col":0}}],"kind":"term","permissions":["[x :: term] (=x | x @ int) -> int","=inc"]},"12":{"names":[["auto","/x_24"]],"locations":[{"start":{"line":25,"col":0},"end":{"line":28,"col":0}}],"kind":"term","permissions":["()","=/x_24"]},"20":{"names":[["auto","y_arg"],["user","x"]],"locations":[{"start":{"line":3,"col":11},"end":{"line":3,"col":13}},{"start":{"line":1,"col":8},"end":{"line":1,"col":16}}],"kind":"term","permissions":["int","=y_arg"]},"24":{"names":[["user","f"]],"locations":[{"start":{"line":5,"col":0},"end":{"line":8,"col":0}}],"kind":"term","permissions":["[x :: term] (=x | x @ int) -> int","=f"]},"16":{"names":[["user","cons"]],"locations":[{"start":{"line":28,"col":0},"end":{"line":30,"col":0}}],"kind":"term","permissions":["[a, hd :: term, tl :: term, /root9 :: term] (=/root9 | /root9 @ (=hd, =tl) ∗ hd @ a ∗ tl @ list a) ->\nlist a","=cons"]},"32":{"names":[["auto","/root12"]],"locations":[{"start":{"line":10,"col":12},"end":{"line":10,"col":31}}],"kind":"term","permissions":["()","=/root12"]}}}