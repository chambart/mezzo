{"syntax":"<div class=\"highlight\"><pre><span class=\"n\">data</span> <span class=\"n\">phys_equal</span> <span class=\"o\">(</span><span class=\"n\">x</span> <span class=\"o\">::</span> <span class=\"nc\">TERM</span><span class=\"o\">)</span> <span class=\"o\">(</span><span class=\"n\">y</span> <span class=\"o\">::</span> <span class=\"nc\">TERM</span><span class=\"o\">)</span> <span class=\"o\">=</span>\n  <span class=\"o\">|</span> <span class=\"nc\">Equal</span> <span class=\"o\">{</span> <span class=\"n\">permission</span> <span class=\"n\">x</span> <span class=\"o\">=</span> <span class=\"n\">y</span> <span class=\"o\">}</span>\n  <span class=\"o\">|</span> <span class=\"nc\">NotEqual</span>\n\n<span class=\"n\">abstract</span> <span class=\"n\">t</span>\n<span class=\"n\">fact</span> <span class=\"n\">exclusive</span> <span class=\"n\">t</span>\n\n<span class=\"k\">val</span> <span class=\"n\">f</span> <span class=\"o\">(</span><span class=\"n\">consumes</span> <span class=\"n\">x</span><span class=\"o\">:</span> <span class=\"n\">t</span><span class=\"o\">,</span> <span class=\"n\">y</span><span class=\"o\">:</span> <span class=\"n\">unknown</span><span class=\"o\">):</span> <span class=\"n\">t</span> <span class=\"o\">=</span>\n  <span class=\"k\">if</span> <span class=\"n\">explain</span> <span class=\"n\">x</span> <span class=\"o\">==</span> <span class=\"n\">y</span> <span class=\"k\">then</span>\n    <span class=\"n\">y</span>\n  <span class=\"k\">else</span>\n    <span class=\"n\">fail</span>\n</pre></div>\n","current_location":{"start":{"line":8,"col":38},"end":{"line":12,"col":8}},"file_name":"tests/perms_in_records.hml","type":"merge","merged_env":{"svg":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.26.3 (20100126.1600)\n -->\n<!-- Title: g Pages: 1 -->\n<svg width=\"246pt\" height=\"148pt\"\n viewBox=\"0.00 0.00 246.00 148.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph1\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 144)\">\n<title>g</title>\n<polygon fill=\"white\" stroke=\"white\" points=\"-4,5 -4,-144 243,-144 243,5 -4,5\"/>\n<!-- node4 -->\n<g id=\"node4\" class=\"node\"><title>node4</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"6,-89 6,-139 60,-139 60,-89 6,-89\"/>\n<text text-anchor=\"middle\" x=\"33\" y=\"-122.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">t</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"6,-114 60,-114 \"/>\n<text text-anchor=\"middle\" x=\"33\" y=\"-97.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">x = y</text>\n</g>\n<!-- node2 -->\n<g id=\"node2\" class=\"node\"><title>node2</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"84,-1 84,-51 166,-51 166,-1 84,-1\"/>\n<text text-anchor=\"middle\" x=\"125\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">unknown</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"84,-26 166,-26 \"/>\n<text text-anchor=\"middle\" x=\"125\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">f</text>\n</g>\n<!-- node6 -->\n<g id=\"node6\" class=\"node\"><title>node6</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"183.5,-8 183.5,-44 238.5,-44 238.5,-8 183.5,-8\"/>\n<text text-anchor=\"middle\" x=\"211\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">Equal</text>\n</g>\n<!-- node5 -->\n<g id=\"node5\" class=\"node\"><title>node5</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"0,-8 0,-44 66,-44 66,-8 0,-8\"/>\n<text text-anchor=\"middle\" x=\"16.5\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">_0</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"33,-8 33,-44 \"/>\n<text text-anchor=\"middle\" x=\"49.5\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">_1</text>\n</g>\n<!-- node5&#45;&gt;node4 -->\n<g id=\"edge2\" class=\"edge\"><title>node5:_0&#45;&gt;node4</title>\n<path fill=\"none\" stroke=\"black\" d=\"M16,-44C16,-55.5857 18.2262,-67.953 21.0675,-79.0191\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"17.7288,-80.0759 23.8034,-88.7563 24.4678,-78.1823 17.7288,-80.0759\"/>\n</g>\n<!-- node5&#45;&gt;node4 -->\n<g id=\"edge4\" class=\"edge\"><title>node5:_1&#45;&gt;node4</title>\n<path fill=\"none\" stroke=\"black\" d=\"M50,-44C50,-55.5857 47.7738,-67.953 44.9325,-79.0191\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"41.5322,-78.1823 42.1966,-88.7563 48.2712,-80.0759 41.5322,-78.1823\"/>\n</g>\n</g>\n</svg>\n","root":4,"points":{"5":{"names":[["auto","/root1"]],"locations":[{"start":{"line":8,"col":6},"end":{"line":8,"col":33}}],"kind":"term","permissions":["(=x, =x)","=/root1"]},"6":{"names":[["auto","/x_4"]],"locations":[{"start":{"line":9,"col":12},"end":{"line":9,"col":20}}],"kind":"term","permissions":["Equal","=/x_4"]},"2":{"names":[["user","f"]],"locations":[{"start":{"line":8,"col":0},"end":{"line":13,"col":0}}],"kind":"term","permissions":["=f"]},"4":{"names":[["user","x"],["user","y"]],"locations":[{"start":{"line":8,"col":7},"end":{"line":8,"col":20}},{"start":{"line":8,"col":22},"end":{"line":8,"col":32}}],"kind":"term","permissions":["t","=x"]}},"dot":"digraph g {\ngraph [\n  rankdir = \"BT\"\n];\n\"node4\" [\n  id = \"node4\"\n  label = \"{{t}|x = y}\"\n  shape = \"record\"\n];\n\"node2\" [\n  id = \"node2\"\n  label = \"{{unknown}|f}\"\n  shape = \"record\"\n];\n\"node6\" [\n  id = \"node6\"\n  label = \"Equal\"\n  shape = \"record\"\n];\n\"node5\":_0 -> \"node4\" [\n];\n\"node5\":_1 -> \"node4\" [\n];\n\"node5\" [\n  id = \"node5\"\n  label = \"<_0>_0|<_1>_1\"\n  shape = \"record\"\n];\n}"},"sub_envs":[{"svg":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.26.3 (20100126.1600)\n -->\n<!-- Title: g Pages: 1 -->\n<svg width=\"246pt\" height=\"148pt\"\n viewBox=\"0.00 0.00 246.00 148.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph1\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 144)\">\n<title>g</title>\n<polygon fill=\"white\" stroke=\"white\" points=\"-4,5 -4,-144 243,-144 243,5 -4,5\"/>\n<!-- node4 -->\n<g id=\"node4\" class=\"node\"><title>node4</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"6,-89 6,-139 60,-139 60,-89 6,-89\"/>\n<text text-anchor=\"middle\" x=\"33\" y=\"-122.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">t</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"6,-114 60,-114 \"/>\n<text text-anchor=\"middle\" x=\"33\" y=\"-97.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">x = y</text>\n</g>\n<!-- node2 -->\n<g id=\"node2\" class=\"node\"><title>node2</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"84,-1 84,-51 166,-51 166,-1 84,-1\"/>\n<text text-anchor=\"middle\" x=\"125\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">unknown</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"84,-26 166,-26 \"/>\n<text text-anchor=\"middle\" x=\"125\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">f</text>\n</g>\n<!-- node6 -->\n<g id=\"node6\" class=\"node\"><title>node6</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"183.5,-8 183.5,-44 238.5,-44 238.5,-8 183.5,-8\"/>\n<text text-anchor=\"middle\" x=\"211\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">Equal</text>\n</g>\n<!-- node5 -->\n<g id=\"node5\" class=\"node\"><title>node5</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"0,-8 0,-44 66,-44 66,-8 0,-8\"/>\n<text text-anchor=\"middle\" x=\"16.5\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">_0</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"33,-8 33,-44 \"/>\n<text text-anchor=\"middle\" x=\"49.5\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">_1</text>\n</g>\n<!-- node5&#45;&gt;node4 -->\n<g id=\"edge2\" class=\"edge\"><title>node5:_0&#45;&gt;node4</title>\n<path fill=\"none\" stroke=\"black\" d=\"M16,-44C16,-55.5857 18.2262,-67.953 21.0675,-79.0191\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"17.7288,-80.0759 23.8034,-88.7563 24.4678,-78.1823 17.7288,-80.0759\"/>\n</g>\n<!-- node5&#45;&gt;node4 -->\n<g id=\"edge4\" class=\"edge\"><title>node5:_1&#45;&gt;node4</title>\n<path fill=\"none\" stroke=\"black\" d=\"M50,-44C50,-55.5857 47.7738,-67.953 44.9325,-79.0191\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"41.5322,-78.1823 42.1966,-88.7563 48.2712,-80.0759 41.5322,-78.1823\"/>\n</g>\n</g>\n</svg>\n","root":4,"points":{"5":{"names":[["auto","/root1"]],"locations":[{"start":{"line":8,"col":6},"end":{"line":8,"col":33}}],"kind":"term","permissions":["(=x, =x)","=/root1"]},"6":{"names":[["auto","/x_4"]],"locations":[{"start":{"line":9,"col":12},"end":{"line":9,"col":20}}],"kind":"term","permissions":["Equal","=/x_4"]},"2":{"names":[["user","f"]],"locations":[{"start":{"line":8,"col":0},"end":{"line":13,"col":0}}],"kind":"term","permissions":["=f"]},"4":{"names":[["user","x"],["user","y"]],"locations":[{"start":{"line":8,"col":7},"end":{"line":8,"col":20}},{"start":{"line":8,"col":22},"end":{"line":8,"col":32}}],"kind":"term","permissions":["t","=x"]}},"dot":"digraph g {\ngraph [\n  rankdir = \"BT\"\n];\n\"node4\" [\n  id = \"node4\"\n  label = \"{{t}|x = y}\"\n  shape = \"record\"\n];\n\"node2\" [\n  id = \"node2\"\n  label = \"{{unknown}|f}\"\n  shape = \"record\"\n];\n\"node6\" [\n  id = \"node6\"\n  label = \"Equal\"\n  shape = \"record\"\n];\n\"node5\":_0 -> \"node4\" [\n];\n\"node5\":_1 -> \"node4\" [\n];\n\"node5\" [\n  id = \"node5\"\n  label = \"<_0>_0|<_1>_1\"\n  shape = \"record\"\n];\n}"},{"svg":"<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\n<!DOCTYPE svg PUBLIC \"-//W3C//DTD SVG 1.1//EN\"\n \"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd\">\n<!-- Generated by graphviz version 2.26.3 (20100126.1600)\n -->\n<!-- Title: g Pages: 1 -->\n<svg width=\"409pt\" height=\"148pt\"\n viewBox=\"0.00 0.00 409.00 148.00\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n<g id=\"graph1\" class=\"graph\" transform=\"scale(1 1) rotate(0) translate(4 144)\">\n<title>g</title>\n<polygon fill=\"white\" stroke=\"white\" points=\"-4,5 -4,-144 406,-144 406,5 -4,5\"/>\n<!-- node4 -->\n<g id=\"node4\" class=\"node\"><title>node4</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"0,-89 0,-139 54,-139 54,-89 0,-89\"/>\n<text text-anchor=\"middle\" x=\"27\" y=\"-122.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">t</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"0,-114 54,-114 \"/>\n<text text-anchor=\"middle\" x=\"27\" y=\"-97.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">x</text>\n</g>\n<!-- node2 -->\n<g id=\"node2\" class=\"node\"><title>node2</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"121,-1 121,-51 203,-51 203,-1 121,-1\"/>\n<text text-anchor=\"middle\" x=\"162\" y=\"-34.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">unknown</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"121,-26 203,-26 \"/>\n<text text-anchor=\"middle\" x=\"162\" y=\"-9.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">f</text>\n</g>\n<!-- node6 -->\n<g id=\"node6\" class=\"node\"><title>node6</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"221,-8 221,-44 301,-44 301,-8 221,-8\"/>\n<text text-anchor=\"middle\" x=\"261\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">NotEqual</text>\n</g>\n<!-- node5 -->\n<g id=\"node5\" class=\"node\"><title>node5</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"37,-8 37,-44 103,-44 103,-8 37,-8\"/>\n<text text-anchor=\"middle\" x=\"53.5\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">_0</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"70,-8 70,-44 \"/>\n<text text-anchor=\"middle\" x=\"86.5\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">_1</text>\n</g>\n<!-- node5&#45;&gt;node4 -->\n<g id=\"edge2\" class=\"edge\"><title>node5:_0&#45;&gt;node4</title>\n<path fill=\"none\" stroke=\"black\" d=\"M53,-44C53,-56.0322 49.5825,-68.5408 45.2256,-79.5988\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"41.9629,-78.3261 41.2172,-88.8946 48.3908,-81.0978 41.9629,-78.3261\"/>\n</g>\n<!-- node3 -->\n<g id=\"node3\" class=\"node\"><title>node3</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"72,-89 72,-139 154,-139 154,-89 72,-89\"/>\n<text text-anchor=\"middle\" x=\"113\" y=\"-122.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">unknown</text>\n<polyline fill=\"none\" stroke=\"black\" points=\"72,-114 154,-114 \"/>\n<text text-anchor=\"middle\" x=\"113\" y=\"-97.4\" font-family=\"Times Roman,serif\" font-size=\"14.00\">y</text>\n</g>\n<!-- node5&#45;&gt;node3 -->\n<g id=\"edge4\" class=\"edge\"><title>node5:_1&#45;&gt;node3</title>\n<path fill=\"none\" stroke=\"black\" d=\"M87,-44C87,-56.0322 90.4175,-68.5408 94.7744,-79.5988\"/>\n<polygon fill=\"black\" stroke=\"black\" points=\"91.6092,-81.0978 98.7828,-88.8946 98.0371,-78.3261 91.6092,-81.0978\"/>\n</g>\n<!-- node7 -->\n<g id=\"node7\" class=\"node\"><title>node7</title>\n<polygon fill=\"none\" stroke=\"black\" points=\"319,-8 319,-44 401,-44 401,-8 319,-8\"/>\n<text text-anchor=\"middle\" x=\"360\" y=\"-21.9\" font-family=\"Times Roman,serif\" font-size=\"14.00\">unknown</text>\n</g>\n</g>\n</svg>\n","root":7,"points":{"7":{"names":[["auto","/inconsistent"]],"locations":[{"start":{"line":12,"col":4},"end":{"line":12,"col":8}}],"kind":"term","permissions":["=/inconsistent"]},"3":{"names":[["user","y"]],"locations":[{"start":{"line":8,"col":22},"end":{"line":8,"col":32}}],"kind":"term","permissions":["=y"]},"5":{"names":[["auto","/root1"]],"locations":[{"start":{"line":8,"col":6},"end":{"line":8,"col":33}}],"kind":"term","permissions":["(=x, =y)","=/root1"]},"6":{"names":[["auto","/x_4"]],"locations":[{"start":{"line":9,"col":12},"end":{"line":9,"col":20}}],"kind":"term","permissions":["NotEqual","=/x_4"]},"2":{"names":[["user","f"]],"locations":[{"start":{"line":8,"col":0},"end":{"line":13,"col":0}}],"kind":"term","permissions":["=f"]},"4":{"names":[["user","x"]],"locations":[{"start":{"line":8,"col":7},"end":{"line":8,"col":20}}],"kind":"term","permissions":["t","=x"]}},"dot":"digraph g {\ngraph [\n  rankdir = \"BT\"\n];\n\"node4\" [\n  id = \"node4\"\n  label = \"{{t}|x}\"\n  shape = \"record\"\n];\n\"node2\" [\n  id = \"node2\"\n  label = \"{{unknown}|f}\"\n  shape = \"record\"\n];\n\"node6\" [\n  id = \"node6\"\n  label = \"NotEqual\"\n  shape = \"record\"\n];\n\"node5\":_0 -> \"node4\" [\n];\n\"node5\":_1 -> \"node3\" [\n];\n\"node5\" [\n  id = \"node5\"\n  label = \"<_0>_0|<_1>_1\"\n  shape = \"record\"\n];\n\"node3\" [\n  id = \"node3\"\n  label = \"{{unknown}|y}\"\n  shape = \"record\"\n];\n\"node7\" [\n  id = \"node7\"\n  label = \"unknown\"\n  shape = \"record\"\n];\n}"}]}