exclusive data foo = Foo { foo: (); bar: () }
data bool = True | False

val f (consumes x: foo): () =
  (* If we're not smart, we just keep bar @ unknown instead of trying to extract
   * more out of it. *)
  let (Foo { foo = (foo: ()); bar }) =
    if True then x else x
  in
  bar
