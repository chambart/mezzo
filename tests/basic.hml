(* This is just a sample file. Try changing menhir to menhir --trace in the
 * Makefile to see the tokens being accepted and/or rejected. *)
data t a =
  | Foo
  | Bar {
    baz: a;
  }

data tree a =
  | Leaf
  | Node {
      datum: a;
      left: tree a;
      right: tree a
    }

data ty = DummyType

data typechecker =
  TC { typechecker: [a] (consumes t: tree a) -> (ty, permission t: tree ty) }

data list a =
  | Nil
  | Cons { head: a; tail: list a }

data int = Zero

data bool = False | True 

data listops =
  ListOps {
    length: [a] list a -> int;
    find: [key, a] (* duplicable a => *) (list (key, a), (key, key) -> bool, key) -> a;
    concat: [a] (consumes l1: list a, consumes l2: list a) -> list a
  }

