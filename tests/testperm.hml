data int

(* Test: adding a permission x: t Î± should result in it being expanded at once.
 * *)
data t1 a =
  | Foo { bar: a }

(* Test: adding x: t2 Î± then x: Bar { baz: Î² } should fusion the two
 * permissions. *)
data t2 a =
  | Foo
  | Bar { baz: a }

data list a =
  | Nil
  | Cons { head: a; tail: list a }

(* Test: apply length to x: list b and see how it works. *)
data listops =
  ListOps {
    length: [a] list a -> int;
    concat: [a] (consumes l1: list a, consumes l2: list a) -> (l3: list a)
  }
 
