open list
open Pervasives

val length [a] (xs : list a) : int =
  let c = newref 0 in
  let count (x: a | c @ ref int) : () =
    c := !c + 1
  in
  iter (count, xs);
  !c

val length [a] (xs : list a) : int =
  let count (n: int, x : a) : int =
    n + 1
  in
  fold_left (count, 0, xs)

